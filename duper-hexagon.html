<!doctype html>
<html lang="en" ng-app="duper-hexagon">
<head>
    <meta charset="UTF-8"/>
    <title>Duper Hexagon</title>
    <link rel="stylesheet" href="css/styles.css" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Orbitron:500' rel='stylesheet' type='text/css'>
    <script type="text/javascript" src="js/lib/angular.js"></script>
    <script type="text/javascript" src="js/lib/phaser.js"></script>
    <script type="text/javascript" src="js/lib/angular-local-storage.js"></script>
    <script src="js/duper-hexagon.js"></script>
    <script src="js/app.js"></script>
    <script src="js/RecordSrv.js"></script>
    <script src="js/LevelUnlockSrv.js"></script>
    <script src="js/MainCtrl.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body ng-controller="MainCtrl" ng-keydown="state.onKeyDown($event)">
<div id="main">
    <div id="game-wrapper">
        <div id="game"></div>
        <div id="floating">
            <div id="welcome" class="cover-game center semiopaque" ng-if="state.show_welcome === true">
                <div class="center-text">
                    <h1>Duper Hexagon</h1>
                    <h3>PRESS ENTER TO START</h3>
                    <div class="corner">
                        <input type="checkbox" ng-model="state.disable_music" id="disable_music">
                        <label for="disable_music">Disable music</label>
                    </div>
                </div>
            </div>

            <div id="hints" class="cover-game center shadow-text" ng-show="state.hinting === true">
                <div class="center-text">
                    <p ng-repeat="line in state.hints">
                        {{line}}
                    </p>
                </div>
            </div>

            <div id="loading" class="cover-game center shadow-text" ng-show="state.show_loading === true">
                <div class="center-text">
                    <p>Loading...</p>
                </div>
            </div>

            <div id="menu" class="cover-game semiopaque center"
                 ng-show="(state.started === false || state.crashed === true) && state.menu === true">
                <button ng-click="state.start(0)">Serenity</button>
                <button ng-click="state.start(1)" ng-disabled="!state.unlocked[1]">Tension</button>
                <button ng-click="state.start(2)" ng-disabled="!state.unlocked[2]">Panic</button>
                <br><br>
                <button ng-click="state.start(3)" ng-disabled="!state.unlocked[3]">Serenity+</button>
                <button ng-click="state.start(4)" ng-disabled="!state.unlocked[4]">Tension+</button>
                <button ng-click="state.start(5)" ng-disabled="!state.unlocked[5]">Panic+</button>
                <br><br>
                <button ng-click="state.start(6)" ng-disabled="!state.unlocked[6]">Serenity Overtime</button>
                <button ng-click="state.start(7)" ng-disabled="!state.unlocked[7]">Tension Overtime</button>
                <button ng-click="state.start(8)" ng-disabled="!state.unlocked[8]">Panic Overtime</button>
            </div>

            <div id="post-crash" class="cover-game semiopaque center"
                 ng-show="state.show_welcome !== true && state.hinting === false && state.crashed === true
                 && state.menu === false">
                <div class="center-text">
                    <h3>Your time: {{state.time}} s.</h3>
                    <p ng-show="state.best_times[state.current_level] > state.time">
                        Your record: {{state.best_times[state.current_level]}} s<span
                            ng-show="state.best_times[state.current_level] < state.unlock_at
                            && !state.unlocked[state.current_level + 1]"><span
                            ng-show="state.next_unlock.length > 0">. Unlock new levels at {{state.unlock_at}}
                            s</span><span ng-show="state.next_unlock.length === 0">
                            (target: {{state.unlock_at}} s)</span></span>.
                    </p>
                    <div ng-show="state.best_times[state.current_level] <= state.time">
                        <p>New record!</p>
                        <div ng-show="state.next_unlock.length > 0">
                            <p ng-show="state.best_times[state.current_level] <= state.unlock_at">
                                Unlock new levels at at {{state.unlock_at}} s.
                            </p>
                            <div ng-show="state.best_times[state.current_level] > state.unlock_at">
                                <p>You have unlocked the following levels:</p>
                                <ul>
                                    <li ng-repeat="level in state.next_unlock">{{state.level_names[level]}}</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <p>Press Enter to restart<span ng-show="state.unlocked[1]">, or Escape to select another
                        level.</span></p>
                </div>
            </div>

            <div id="timer" class="shadow-text corner" ng-show="state.started === true && state.crashed === false">
                <h3>{{state.time}}</h3>
            </div>
        </div>
    </div>
    <p>Press Left and Right to turn. Hit Enter to restart if you've crashed.</p>
</div>
</body>
</html>